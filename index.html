<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>L5U1 假期综合症</title>
  <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
  <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
  <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
  <style>
    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
    }
  </style>
</head>
<body>
  <div id="root"></div>
  <script type="text/babel">
    const VocabularyFlashcard = () => {
      const vocabularyData = [
        {
          id: 1,
          word: '调整',
          pinyin: 'tiáo zhěng',
          partOfSpeech: '动词',
          meaning: '改变使适合，使恰当',
          translation: 'to adjust, to regulate',
          example: '我需要调整一下作息时间。',
          examplePinyin: 'Wǒ xūyào tiáozhěng yíxià zuòxí shíjiān.',
          exampleTranslation: 'I need to adjust my daily schedule.',
          image: './public/images/tiaozheng.jpg',
          isNew: false,
          category: 'part2'
        },
        {
          id: 2,
          word: '过渡',
          pinyin: 'guò dù',
          partOfSpeech: '名词/动词',
          meaning: '从一种状态到另一种状态的转变过程',
          translation: 'transition, to transition',
          example: '假期和工作之间需要一个过渡期。',
          examplePinyin: 'Jiàqī hé gōngzuò zhījiān xūyào yí gè guòdù qī.',
          exampleTranslation: 'We need a transition period between holidays and work.',
          image: './public/images/guodu.jpg',
          isNew: false,
          category: 'part2'
        },
        {
          id: 3,
          word: '有效',
          pinyin: 'yǒu xiào',
          partOfSpeech: '形容词',
          meaning: '能够达到预期目的的，产生预期效果的',
          translation: 'effective, valid',
          example: '这是一种有效的学习方法。',
          examplePinyin: 'Zhè shì yì zhǒng yǒuxiào de xuéxí fāngfǎ.',
          exampleTranslation: 'This is an effective learning method.',
          image: './public/images/youxiao.jpeg',
          isNew: false,
          category: 'part2'
        },
        {
          id: 4,
          word: '现象',
          pinyin: 'xiàn xiàng',
          partOfSpeech: '名词',
          meaning: '客观存在的事物表现或情况',
          translation: 'phenomenon, appearance',
          example: '假期结束后工作适应不良是常见现象。',
          examplePinyin: 'Jiàqī jiéshù hòu gōngzuò shìyìng bùliáng shì chángjiàn xiànxiàng.',
          exampleTranslation: 'Difficulty adapting to work after holidays is a common phenomenon.',
          image: './public/images/xianxiang.jpg',
          isNew: false,
          category: 'part2'
        },
        {
          id: 5,
          word: '实现',
          pinyin: 'shí xiàn',
          partOfSpeech: '动词',
          meaning: '使计划、愿望等变为现实',
          translation: 'to realize, to achieve',
          example: '他实现了自己的梦想。',
          examplePinyin: 'Tā shíxiàn le zìjǐ de mèngxiǎng.',
          exampleTranslation: 'He realized his dream.',
          image: './public/images/shixian.jpg',
          isNew: false,
          category: 'part2'
        },
        {
          id: 6,
          word: '转换',
          pinyin: 'zhuǎn huàn',
          partOfSpeech: '动词',
          meaning: '从一种状态、形式改变到另一种',
          translation: 'to transform, to convert',
          example: '我们需要转换一下心情。',
          examplePinyin: 'Wǒmen xūyào zhuǎnhuàn yíxià xīnqíng.',
          exampleTranslation: 'We need to change our mood.',
          image: './public/images/zhuanhuan.jpg',
          isNew: false,
          category: 'part2'
        },
        {
          id: 7,
          word: '利用',
          pinyin: 'lì yòng',
          partOfSpeech: '动词',
          meaning: '使用、运用（资源、时间等）',
          translation: 'to utilize, to make use of',
          example: '利用假期的最后一天准备工作。',
          examplePinyin: 'Lìyòng jiàqī de zuìhòu yì tiān zhǔnbèi gōngzuò.',
          exampleTranslation: 'Use the last day of vacation to prepare for work.',
          image: './public/images/liyong.jpg',
          isNew: false,
          category: 'part2'
        },
        {
          id: 8,
          word: '心中有数',
          pinyin: 'xīn zhōng yǒu shù',
          partOfSpeech: '成语/固定短语',
          meaning: '心里有把握，对情况了解清楚',
          translation: 'to have a clear idea, to know what one is doing',
          example: '做事前要心中有数。',
          examplePinyin: 'Zuò shì qián yào xīnzhōng yǒushù.',
          exampleTranslation: 'Be clear about what you are doing before you start.',
          image: './public/images/xinzhongyoushu.jpg',
          isNew: false,
          category: 'part2'
        },
        
        {
          id: 9,
          word: '宅',
          pinyin: 'zhái',
          partOfSpeech: '动词',
          meaning: '在家不出门',
          translation: 'to stay at home, to be a homebody',
          example: '"十一"黄金周期间，很多人选择旅游、探亲、逛街或是宅在家中。',
          examplePinyin: '"Shíyī" huángjīn zhōuqí jiān, hěnduō rén xuǎnzé lǚyóu, tànqīn, guàngjiē huòshì zhái zài jiāzhōng.',
          exampleTranslation: 'During the "Golden Week" of National Day, many people choose to travel, visit relatives, go shopping, or stay at home.',
          image: './public/images/zhai.jpg',
          isNew: true,
          category: 'part1'
        },
        {
          id: 10,
          word: '适应',
          pinyin: 'shì yìng',
          partOfSpeech: '动词',
          meaning: '习惯于某种环境或情况',
          translation: 'to adapt, to get used to',
          example: '通常节假日过后，有些人会出现一些不适应的状况。',
          examplePinyin: 'Tōngcháng jiéjiàrì guòhòu, yǒuxiē rén huì chūxiàn yìxiē bù shìyìng de zhuàngkuàng.',
          exampleTranslation: 'Usually after holidays, some people will experience situations of not adapting well.',
          image: './public/images/shiying.jpeg',
          isNew: true,
          category: 'part1'
        },
        {
          id: 11,
          word: '综合',
          pinyin: 'zōng hé',
          partOfSpeech: '形容词/动词',
          meaning: '把不同的事物或方面结合起来',
          translation: 'comprehensive, to synthesize',
          example: '我们称之为假期综合征。',
          examplePinyin: 'Wǒmen chēng zhī wéi jiàqī zōnghé zhēng.',
          exampleTranslation: 'We call it holiday syndrome.',
          image: './public/images/zonghe.jpg',
          isNew: true,
          category: 'part1'
        },
        {
          id: 12,
          word: '倾诉',
          pinyin: 'qīng sù',
          partOfSpeech: '动词',
          meaning: '向别人诉说内心的想法',
          translation: 'to pour out one\'s heart, to confide',
          example: '请听听下面几位朋友的倾诉吧。',
          examplePinyin: 'Qǐng tīng tīng xiàmiàn jǐ wèi péngyǒu de qīngsù ba.',
          exampleTranslation: 'Please listen to what several friends have to say.',
          image: './public/images/qingsu.jpeg',
          isNew: true,
          category: 'part1'
        },
        {
          id: 13,
          word: '恐惧',
          pinyin: 'kǒng jù',
          partOfSpeech: '名词/动词',
          meaning: '非常害怕',
          translation: 'fear, to fear',
          example: '我有上班恐惧症。',
          examplePinyin: 'Wǒ yǒu shàngbān kǒngjù zhēng.',
          exampleTranslation: 'I have work anxiety syndrome.',
          image: './public/images/kongju.jpg',
          isNew: true,
          category: 'part1'
        },
        {
          id: 14,
          word: '即将',
          pinyin: 'jí jiāng',
          partOfSpeech: '副词',
          meaning: '很快就要',
          translation: 'about to, soon',
          example: '假期即将结束了。',
          examplePinyin: 'Jiàqī jíjiāng jiéshù le.',
          exampleTranslation: 'The holiday is about to end.',
          image: './public/images/jijiang.jpg',
          isNew: true,
          category: 'part1'
        },
        {
          id: 15,
          word: '沉浸',
          pinyin: 'chén jìn',
          partOfSpeech: '动词',
          meaning: '深入于某种环境或状态中',
          translation: 'to immerse, to be absorbed in',
          example: '可我还沉浸在节日的快乐中。',
          examplePinyin: 'Kě wǒ hái chénjìn zài jiérì de kuàilè zhōng.',
          exampleTranslation: 'But I am still immersed in the joy of the holiday.',
          image: './public/images/chenjin.jpg',
          isNew: true,
          category: 'part1'
        },
        {
          id: 16,
          word: '文件',
          pinyin: 'wén jiàn',
          partOfSpeech: '名词',
          meaning: '书面材料',
          translation: 'document, file',
          example: '一想到上班时有那么多的文件要处理。',
          examplePinyin: 'Yī xiǎngdào shàngbān shí yǒu nàme duō de wénjiàn yào chǔlǐ.',
          exampleTranslation: 'Just thinking about all the documents that need to be processed when working.',
          image: './public/images/wenjian.jpg',
          isNew: true,
          category: 'part1'
        },
        {
          id: 17,
          word: '烦躁',
          pinyin: 'fán zào',
          partOfSpeech: '形容词',
          meaning: '情绪不安、急躁',
          translation: 'irritable, restless',
          example: '那么多的会要开，我就会烦躁。',
          examplePinyin: 'Nàme duō de huì yào kāi, wǒ jiù huì fánzào.',
          exampleTranslation: 'With so many meetings to attend, I become irritable.',
          image: './public/images/fanzao.jpg',
          isNew: true,
          category: 'part1'
        }
      ];

      // 解析URL参数，获取word参数
      const getInitialWordIndex = () => {
        const urlParams = new URLSearchParams(window.location.search);
        const wordId = urlParams.get('word');
        
        if (wordId) {
          // 查找匹配的词汇索引
          const wordIndex = vocabularyData.findIndex(item => item.id === parseInt(wordId));
          return wordIndex >= 0 ? wordIndex : 0;
        }
        return 0;
      };

      const [currentIndex, setCurrentIndex] = React.useState(getInitialWordIndex());
      const [cardState, setCardState] = React.useState(0); // 0: 图片, 1: 词语, 2: 详细信息
      const [showPinyin, setShowPinyin] = React.useState(true);
      const [showTranslation, setShowTranslation] = React.useState(false);
      const [showExampleTranslation, setShowExampleTranslation] = React.useState(false);
      const [wordCategory, setWordCategory] = React.useState('all'); // 'all', 'part1', 'part2'

      // 根据URL参数设置初始类别
      React.useEffect(() => {
        const urlParams = new URLSearchParams(window.location.search);
        const wordId = urlParams.get('word');
        
        if (wordId) {
          const word = vocabularyData.find(item => item.id === parseInt(wordId));
          if (word) {
            setWordCategory(word.category === 'part1' || word.category === 'part2' ? word.category : 'all');
          }
        }
      }, []);

      // 根据筛选条件过滤词汇
      const filteredVocabulary = vocabularyData.filter(word => {
        if (wordCategory === 'all') return true;
        return word.category === wordCategory;
      });

      const currentWord = filteredVocabulary[currentIndex] || vocabularyData[0];

      // 处理卡片点击，循环切换三个状态
      const handleCardClick = () => {
        setCardState((prevState) => (prevState + 1) % 3);
      };

      // 切换到下一个词
      const handleNext = () => {
        setCardState(0); // 重置为图片状态
        setCurrentIndex((prevIndex) => (prevIndex + 1) % filteredVocabulary.length);
      };

      // 切换到上一个词
      const handlePrevious = () => {
        setCardState(0); // 重置为图片状态
        setCurrentIndex((prevIndex) => (prevIndex - 1 + filteredVocabulary.length) % filteredVocabulary.length);
      };

      return (
        <div className="flex flex-col items-center justify-center min-h-screen bg-gray-100 p-4">
          <div className="w-full max-w-md">
            <h1 className="text-2xl font-bold text-center mb-4 text-purple-800">L5U1 假期综合症</h1>
            
            <div className="mb-4 flex flex-wrap justify-between items-center">
              <div className="inline-flex rounded-md shadow-sm mb-2 sm:mb-0">
                <button 
                  className={`px-4 py-2 text-sm font-medium border rounded-l-lg ${
                    wordCategory === 'all' 
                      ? 'bg-purple-600 text-white border-purple-600' 
                      : 'bg-white text-gray-700 border-gray-300 hover:bg-gray-50'
                  }`}
                  onClick={() => {
                    setWordCategory('all');
                    setCurrentIndex(0);
                    setCardState(0);
                  }}
                >
                  所有词汇
                </button>
                <button 
                  className={`px-4 py-2 text-sm font-medium border-t border-b ${
                    wordCategory === 'part1' 
                      ? 'bg-purple-600 text-white border-purple-600' 
                      : 'bg-white text-gray-700 border-gray-300 hover:bg-gray-50'
                  }`}
                  onClick={() => {
                    setWordCategory('part1');
                    setCurrentIndex(0);
                    setCardState(0);
                  }}
                >
                  Part 1
                </button>
                <button 
                  className={`px-4 py-2 text-sm font-medium border rounded-r-lg ${
                    wordCategory === 'part2' 
                      ? 'bg-purple-600 text-white border-purple-600' 
                      : 'bg-white text-gray-700 border-gray-300 hover:bg-gray-50'
                  }`}
                  onClick={() => {
                    setWordCategory('part2');
                    setCurrentIndex(0);
                    setCardState(0);
                  }}
                >
                  Part 2
                </button>
              </div>
              
              <div className="flex space-x-3">
                <label className="flex items-center text-sm">
                  <input 
                    type="checkbox" 
                    checked={showPinyin} 
                    onChange={() => setShowPinyin(!showPinyin)}
                    className="mr-1"
                  />
                  拼音
                </label>
                <label className="flex items-center text-sm">
                  <input 
                    type="checkbox" 
                    checked={showTranslation} 
                    onChange={() => setShowTranslation(!showTranslation)}
                    className="mr-1"
                  />
                  词义翻译
                </label>
                <label className="flex items-center text-sm">
                  <input 
                    type="checkbox" 
                    checked={showExampleTranslation} 
                    onChange={() => setShowExampleTranslation(!showExampleTranslation)}
                    className="mr-1"
                  />
                  例句翻译
                </label>
              </div>
            </div>
            
            <div className="mb-2 text-sm text-gray-600 text-center">
              {currentIndex + 1} / {filteredVocabulary.length} <a href="gallery.html" class="ml-2 text-purple-600 hover:text-purple-800">查看所有词汇</a>
            </div>
            
            <div 
              className="relative w-full h-80 rounded-lg shadow-lg cursor-pointer transition-transform duration-300 transform hover:scale-105"
              onClick={handleCardClick}
            >
              {/* 第一层：图片 */}
              <div 
                className={`absolute w-full h-full rounded-lg transition-opacity duration-300 ${
                  cardState === 0 ? 'opacity-100 visible' : 'opacity-0 invisible'
                }`}
                style={{
                  backgroundColor: '#4F46E5',
                  background: 'linear-gradient(135deg, #4F46E5 0%, #7C3AED 100%)'
                }}
              >
                <div className="flex flex-col items-center justify-center h-full text-white p-6">
                  <img 
                    src={currentWord.image} 
                    alt={currentWord.word}
                    className="max-h-52 mb-4 rounded-md shadow-md"
                  />
                  <div className="absolute top-2 right-2">
                    <span className={`text-xs px-2 py-1 rounded-full ${currentWord.category === 'part1' ? 'bg-green-500' : 'bg-blue-500'}`}>
                      {currentWord.category === 'part1' ? 'Part 1' : 'Part 2'}
                    </span>
                  </div>
                  <p className="text-sm italic text-white">点击查看词语</p>
                </div>
              </div>
              
              {/* 第二层：词语 */}
              <div 
                className={`absolute w-full h-full rounded-lg transition-opacity duration-300 ${
                  cardState === 1 ? 'opacity-100 visible' : 'opacity-0 invisible'
                }`}
                style={{
                  backgroundColor: '#6D28D9',
                  background: 'linear-gradient(135deg, #6D28D9 0%, #8B5CF6 100%)'
                }}
              >
                <div className="flex flex-col items-center justify-center h-full text-white p-6">
                  <h2 className="text-5xl font-bold mb-4">{currentWord.word}</h2>
                  {showPinyin && <p className="text-2xl mb-2">{currentWord.pinyin}</p>}
                  {showTranslation && <p className="text-xl mb-4 italic">{currentWord.translation}</p>}
                  <div className="absolute top-2 right-2">
                    <span className={`text-xs px-2 py-1 rounded-full ${currentWord.category === 'part1' ? 'bg-green-500' : 'bg-blue-500'}`}>
                      {currentWord.category === 'part1' ? 'Part 1' : 'Part 2'}
                    </span>
                  </div>
                  <p className="text-sm italic">点击查看详细解释</p>
                </div>
              </div>
              
              {/* 第三层：详细信息 */}
              <div 
                className={`absolute w-full h-full rounded-lg bg-white p-6 transition-opacity duration-300 ${
                  cardState === 2 ? 'opacity-100 visible' : 'opacity-0 invisible'
                }`}
              >
                <div className="flex flex-col h-full">
                  <div className="mb-2 flex justify-between items-start">
                    <div>
                      <h3 className="text-xl font-semibold text-purple-800">{currentWord.word}</h3>
                      {showPinyin && <p className="text-md text-gray-600">{currentWord.pinyin}</p>}
                      {showTranslation && <p className="text-md text-gray-700 italic">{currentWord.translation}</p>}
                      <p className="text-sm text-gray-500">{currentWord.partOfSpeech}</p>
                    </div>
                    <span className={`text-xs px-2 py-1 rounded-full ${currentWord.category === 'part1' ? 'bg-green-500 text-white' : 'bg-blue-500 text-white'}`}>
                      {currentWord.category === 'part1' ? 'Part 1' : 'Part 2'}
                    </span>
                  </div>
                  
                  <div className="mb-3">
                    <p className="text-md"><span className="font-medium">释义：</span>{currentWord.meaning}</p>
                  </div>
                  
                  <div className="mb-3">
                    <p className="text-md"><span className="font-medium">例句：</span>{currentWord.example}</p>
                    {showPinyin && <p className="text-sm text-gray-600">{currentWord.examplePinyin}</p>}
                    {showExampleTranslation && <p className="text-sm text-gray-700 italic">{currentWord.exampleTranslation}</p>}
                  </div>
                  
                  <p className="text-sm mt-auto italic text-center text-gray-500">点击回到图片</p>
                </div>
              </div>
            </div>
            
            <div className="flex justify-between mt-6">
              <button 
                onClick={handlePrevious}
                className="bg-purple-700 hover:bg-purple-800 text-white py-2 px-6 rounded-lg shadow transition-colors"
              >
                上一个
              </button>
              <button 
                onClick={handleNext}
                className="bg-purple-700 hover:bg-purple-800 text-white py-2 px-6 rounded-lg shadow transition-colors"
              >
                下一个
              </button>
            </div>
            
            <div className="mt-4 text-center text-sm text-gray-600">
              点击卡片切换：图片 → 词语 → 详细解释
            </div>
          </div>
        </div>
      );
    };

    // 渲染应用
    ReactDOM.render(<VocabularyFlashcard />, document.getElementById('root'));
  </script>
</body>
</html>